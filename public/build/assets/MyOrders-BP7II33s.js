import g from"./Parent-CdhewzKC.js";import{S as n}from"./sweetalert2.esm.all-BkU8I-GU.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as v,c as u,w as c,o,a as e,e as s,F as S,g as A,t as d,d as a,f as P,b as p}from"./app-B1MnwQxF.js";import"./Sidebar-BztHXFLZ.js";import"./Header-R0qRKiDo.js";const T={components:{Parent:g},props:{orders:{type:Array,required:!0}},methods:{deliveredToShop(l){n.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then(r=>{r.isConfirmed&&window.location.replace(route("driver.orders.shop.delivered",l.order.id))})},markAsDelivered(l){n.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!",html:l.order.payment_method=="Cash"?`
                <input type="checkbox" id="confirmationCheckbox" />
                <label for="confirmationCheckbox">I have received the customer's cash payment.</label>
            `:"",preConfirm:()=>{const r=n.getPopup().querySelector("#confirmationCheckbox");return!(r!=null&&r.checked)&&l.order.payment_method=="Cash"?(n.showValidationMessage("Kindly select the checkbox before continuing."),!1):!0}}).then(r=>{r.isConfirmed&&window.location.replace(route("driver.orders.delivered",l.order.id))})}}},D={class:"container-fluid"},N={key:0,class:"card"},V={key:1,class:"card"},M={class:"card-body"},O={class:"table table-striped"},Y={scope:"row"},q={key:0,class:"badge badge-warning"},L={key:1,class:"badge badge-primary"},F={key:2,class:"badge badge-info"},I={key:3,class:"badge badge-primary"},$={key:4,class:"badge badge-success"},E={key:5,class:"badge badge-danger"};function K(l,r,h,j,z,b){const i=v("Link"),C=v("parent");return o(),u(C,null,{default:c(()=>[e("div",D,[r[5]||(r[5]=e("div",{class:"row"},[e("div",{class:"col"},[e("h3",{class:"mb-4"},"My Orders")])],-1)),h.orders.length===0?(o(),s("div",N,r[0]||(r[0]=[e("div",{class:"card-body text-center"},[e("h4",{class:"text-muted mb-2"},"No Orders Available"),e("p",{class:"mb-2"},"There are currently no pending orders available to assign."),e("p",{class:"mb-2"},"Please check back later for updates or contact your supervisor for further assistance."),e("p",null,"If you have any questions, feel free to reach out to support.")],-1)]))):(o(),s("div",V,[e("div",M,[e("table",O,[r[4]||(r[4]=e("thead",{class:"bg-primary text-white"},[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Order Number"),e("th",{scope:"col"},"Customer"),e("th",{scope:"col"},"Brand"),e("th",{scope:"col"},"Product"),e("th",{scope:"col"},"Part"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Payment Type"),e("th",{scope:"col"},"Created at"),e("th",{scope:"col"},"Actions")])],-1)),e("tbody",null,[(o(!0),s(S,null,A(h.orders,(t,w)=>{var f,m,y,_,k;return o(),s("tr",{key:t.order.id},[e("th",Y,d(w+1),1),e("td",null,d(t.order.order_number),1),e("td",null,d((f=t.order.user)==null?void 0:f.name),1),e("td",null,d((m=t.order.brand)==null?void 0:m.name),1),e("td",null,d((y=t.order.product)==null?void 0:y.name),1),e("td",null,d(((k=(_=t.order.order_parts[0])==null?void 0:_.part)==null?void 0:k.name)??"---"),1),e("td",null,[t.order.status==="Pending"?(o(),s("span",q,"Pending")):a("",!0),t.order.status==="Assigned"?(o(),s("span",L,"Assigned")):a("",!0),t.order.status==="Processing"?(o(),s("span",F,"Processing")):a("",!0),t.order.status==="Shipped"?(o(),s("span",I,"Shipped")):a("",!0),t.order.status==="Delivered"?(o(),s("span",$,"Delivered")):a("",!0),t.order.status==="Cancelled"?(o(),s("span",E,"Cancelled")):a("",!0)]),e("td",null,d(t.order.payment_method),1),e("td",null,d(t.order.order_date),1),e("td",null,[P(i,{href:"/orders/details/"+t.order.id,class:"m-1 btn btn-sm btn-primary"},{default:c(()=>r[1]||(r[1]=[p("View")])),_:2},1032,["href"]),t.order.status==="Assigned"?(o(),u(i,{key:0,class:"btn btn-sm btn-success",onClick:x=>b.deliveredToShop(t)},{default:c(()=>r[2]||(r[2]=[p("Delivered To Shop")])),_:2},1032,["onClick"])):a("",!0),t.order.status==="Shipped"?(o(),u(i,{key:1,class:"btn btn-sm btn-success",onClick:x=>b.markAsDelivered(t)},{default:c(()=>r[3]||(r[3]=[p("Mark as Delivered")])),_:2},1032,["onClick"])):a("",!0)])])}),128))])])])]))])]),_:1})}const W=B(T,[["render",K]]);export{W as default};

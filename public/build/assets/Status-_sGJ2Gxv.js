import h from"./Parent-CdhewzKC.js";import{r as m,c as _,w as b,o,a as t,e as a,d as i,g,F as y,i as S,v,n as A,t as n}from"./app-B1MnwQxF.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Sidebar-BztHXFLZ.js";import"./Header-R0qRKiDo.js";const k={components:{Parent:h},props:{applications:{type:Array,required:!0}},data(){return{applicationStatusForm:{application_id:"",user_id:"",status:"",reason:""}}},methods:{openModal(p){this.applications.length>0?(this.applicationStatusForm.application_id=this.applications[0].id,this.applicationStatusForm.user_id=this.applications[0].user_id,this.applicationStatusForm.status=p,this.applicationStatusForm.reason="",$("#changeApplicationStatusModal").modal("show")):console.error("No applications found")},changeApplicationStatus(){this.$inertia.post(route("agent.status.approve",{id:this.$page.props.applications[0].id},{user_id:this.$page.props.applications[0].user_id}),this.applicationStatusForm),$("#changeApplicationStatusModal").modal("hide")}}},C={class:"container-fluid"},F={class:"row"},w={class:"col text-right"},x={class:"table table-bordered table-striped"},M={scope:"row"},R={key:0,class:"badge badge-success"},N={key:1,class:"badge badge-primary"},j={key:2,class:"badge badge-danger"},V=["href"],D={key:1},L=["href"],P={key:1},B=["href"],U={key:1},q={class:"modal fade",id:"changeApplicationStatusModal",tabindex:"-1",role:"dialog","aria-labelledby":"changeApplicationStatusModalLabel","aria-hidden":"true"},z={class:"modal-dialog",role:"document"},E={class:"modal-content"},O={class:"modal-body"},T={class:"modal-footer"},G=["textContent"];function H(p,s,l,I,d,r){const c=m("parent");return o(),_(c,null,{default:b(()=>[t("div",C,[t("div",F,[s[4]||(s[4]=t("div",{class:"col"},[t("h3",{class:"mb-4"},"Application Status")],-1)),t("div",w,[l.applications.length&&l.applications[0].status=="Pending"?(o(),a("a",{key:0,class:"btn btn-primary ml-1",onClick:s[0]||(s[0]=e=>r.openModal("Approved"))},"Approve")):i("",!0),l.applications.length&&l.applications[0].status=="Pending"?(o(),a("a",{key:1,class:"btn btn-danger ml-1",onClick:s[1]||(s[1]=e=>r.openModal("Rejected"))},"Reject")):i("",!0)])]),t("table",x,[s[5]||(s[5]=t("thead",{class:"bg-primary text-white"},[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Shop Name"),t("th",{scope:"col"},"Shop Landline"),t("th",{scope:"col"},"Shop Address"),t("th",{scope:"col"},"Application Status"),t("th",{scope:"col"},"Nie"),t("th",{scope:"col"},"Modelo"),t("th",{scope:"col"},"Others"),t("th",{scope:"col"},"Reason"),t("th",{scope:"col"},"Uploaded At"),t("th",{scope:"col"},"Last Update")])],-1)),t("tbody",null,[(o(!0),a(y,null,g(l.applications,(e,u)=>(o(),a("tr",{key:e.id},[t("th",M,n(u+1),1),t("td",null,n(e.shop_name),1),t("td",null,n(e.shop_landline),1),t("td",null,n(e.shop_address),1),t("td",null,[e.status=="Approved"?(o(),a("span",R,"Approved")):i("",!0),e.status=="Pending"?(o(),a("span",N,"Pending")):i("",!0),e.status=="Rejected"?(o(),a("span",j,"Rejected")):i("",!0)]),t("td",null,[e.nie?(o(),a("a",{key:0,target:"_blank",href:"/"+e.nie},"View Document",8,V)):(o(),a("span",D,"N/A"))]),t("td",null,[e.modelo?(o(),a("a",{key:0,target:"_blank",href:"/"+e.modelo},"View Document",8,L)):(o(),a("span",P,"N/A"))]),t("td",null,[e.others?(o(),a("a",{key:0,target:"_blank",href:"/"+e.others},"View Document",8,B)):(o(),a("span",U,"N/A"))]),t("td",null,n(e.reason??"---"),1),t("td",null,n(e.created_date),1),t("td",null,n(e.updated_date),1)]))),128))])])]),t("div",q,[t("div",z,[t("div",E,[s[8]||(s[8]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"changeApplicationStatusModalLabel"},"Change Application Status"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1)),t("div",O,[s[6]||(s[6]=t("label",{for:"rejectionReason"},"Reason:",-1)),S(t("textarea",{id:"rejectionReason",class:"form-control",rows:"3","onUpdate:modelValue":s[2]||(s[2]=e=>d.applicationStatusForm.reason=e)},null,512),[[v,d.applicationStatusForm.reason]])]),t("div",T,[s[7]||(s[7]=t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1)),t("button",{type:"button",class:A(["btn",d.applicationStatusForm.status=="Approved"?"btn-primary":"btn-danger"]),onClick:s[3]||(s[3]=(...e)=>r.changeApplicationStatus&&r.changeApplicationStatus(...e)),textContent:n(d.applicationStatusForm.status=="Approved"?"Approved":"Reject")},null,10,G)])])])])]),_:1})}const Y=f(k,[["render",H]]);export{Y as default};

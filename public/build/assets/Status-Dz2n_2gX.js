import h from"./Parent-uByzMVj1.js";import{r as _,o as s,c as m,w as b,a as t,e as o,d as i,g,F as y,i as S,v,n as A,t as n}from"./app-Rxq62EwM.js";import{_ as f}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./Sidebar-Cb4-VTS9.js";import"./Header-ERIyHex5.js";const k={components:{Parent:h},props:{applications:{type:Array,required:!0}},data(){return{applicationStatusForm:{application_id:"",user_id:"",status:"",reason:""}}},methods:{openModal(c){this.applications.length>0?(this.applicationStatusForm.application_id=this.applications[0].id,this.applicationStatusForm.user_id=this.applications[0].user_id,this.applicationStatusForm.status=c,this.applicationStatusForm.reason="",$("#changeApplicationStatusModal").modal("show")):console.error("No applications found")},changeApplicationStatus(){this.$inertia.post(route("agent.status.approve",{id:this.$page.props.applications[0].id},{user_id:this.$page.props.applications[0].user_id}),this.applicationStatusForm),$("#changeApplicationStatusModal").modal("hide")}}},C={class:"container-fluid"},F={class:"row"},w=t("div",{class:"col"},[t("h3",{class:"mb-4"},"Application Status")],-1),x={class:"col text-right"},M={class:"table table-bordered table-striped"},R=t("thead",{class:"bg-primary text-white"},[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Shop Name"),t("th",{scope:"col"},"Shop Landline"),t("th",{scope:"col"},"Shop Address"),t("th",{scope:"col"},"Application Status"),t("th",{scope:"col"},"Nie"),t("th",{scope:"col"},"Modelo"),t("th",{scope:"col"},"Others"),t("th",{scope:"col"},"Reason"),t("th",{scope:"col"},"Uploaded At"),t("th",{scope:"col"},"Last Update")])],-1),N={scope:"row"},j={key:0,class:"badge badge-success"},V={key:1,class:"badge badge-primary"},D={key:2,class:"badge badge-danger"},L=["href"],P={key:1},B=["href"],U={key:1},q=["href"],z={key:1},E={class:"modal fade",id:"changeApplicationStatusModal",tabindex:"-1",role:"dialog","aria-labelledby":"changeApplicationStatusModalLabel","aria-hidden":"true"},O={class:"modal-dialog",role:"document"},T={class:"modal-content"},G=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"changeApplicationStatusModalLabel"},"Change Application Status"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1),H={class:"modal-body"},I=t("label",{for:"rejectionReason"},"Reason:",-1),J={class:"modal-footer"},K=t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Q=["textContent"];function W(c,a,l,X,d,r){const p=_("parent");return s(),m(p,null,{default:b(()=>[t("div",C,[t("div",F,[w,t("div",x,[l.applications.length&&l.applications[0].status=="Pending"?(s(),o("a",{key:0,class:"btn btn-primary ml-1",onClick:a[0]||(a[0]=e=>r.openModal("Approved"))},"Approve")):i("",!0),l.applications.length&&l.applications[0].status=="Pending"?(s(),o("a",{key:1,class:"btn btn-danger ml-1",onClick:a[1]||(a[1]=e=>r.openModal("Rejected"))},"Reject")):i("",!0)])]),t("table",M,[R,t("tbody",null,[(s(!0),o(y,null,g(l.applications,(e,u)=>(s(),o("tr",{key:e.id},[t("th",N,n(u+1),1),t("td",null,n(e.shop_name),1),t("td",null,n(e.shop_landline),1),t("td",null,n(e.shop_address),1),t("td",null,[e.status=="Approved"?(s(),o("span",j,"Approved")):i("",!0),e.status=="Pending"?(s(),o("span",V,"Pending")):i("",!0),e.status=="Rejected"?(s(),o("span",D,"Rejected")):i("",!0)]),t("td",null,[e.nie?(s(),o("a",{key:0,target:"_blank",href:"/"+e.nie},"View Document",8,L)):(s(),o("span",P,"N/A"))]),t("td",null,[e.modelo?(s(),o("a",{key:0,target:"_blank",href:"/"+e.modelo},"View Document",8,B)):(s(),o("span",U,"N/A"))]),t("td",null,[e.others?(s(),o("a",{key:0,target:"_blank",href:"/"+e.others},"View Document",8,q)):(s(),o("span",z,"N/A"))]),t("td",null,n(e.reason??"---"),1),t("td",null,n(e.created_date),1),t("td",null,n(e.updated_date),1)]))),128))])])]),t("div",E,[t("div",O,[t("div",T,[G,t("div",H,[I,S(t("textarea",{id:"rejectionReason",class:"form-control",rows:"3","onUpdate:modelValue":a[2]||(a[2]=e=>d.applicationStatusForm.reason=e)},null,512),[[v,d.applicationStatusForm.reason]])]),t("div",J,[K,t("button",{type:"button",class:A(["btn",d.applicationStatusForm.status=="Approved"?"btn-primary":"btn-danger"]),onClick:a[3]||(a[3]=(...e)=>r.changeApplicationStatus&&r.changeApplicationStatus(...e)),textContent:n(d.applicationStatusForm.status=="Approved"?"Approved":"Reject")},null,10,Q)])])])])]),_:1})}const ot=f(k,[["render",W]]);export{ot as default};
